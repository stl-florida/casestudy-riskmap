{"version":3,"sources":["app.js","environment.js","main.js","resources/index.js","resources/layers.js","routes/riskmap/riskmap.js","app.less","resources/styles/themeGuide.less","routes/riskmap/riskmap.less"],"names":["App","configureRouter","config","router","title","options","pushState","root","map","route","name","moduleId","mapUnknownRoutes","redirect","attached","self","debug","testing","configure","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","Layers","properties","flood","id","type","source","url","paint","stormsurge","groundwater","property","stops","default","data","features","geometry","coordinates","layout","visibility","RiskMap","activate","param","risk","addLayerToMap","layer","addLayer","accessToken","Map","attributionControl","container","center","zoom","style","hash","addControl","NavigationControl","on","group"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n  configureRouter(config, router) {\n    config.title = 'RiskMap';\n    config.options.pushState = true;\n    config.options.root = '/';\n    config.map([\n      {route: '', name: 'map', moduleId: 'routes/riskmap/riskmap'}\n    ]);\n    config.mapUnknownRoutes({redirect: ''});\n    this.router = router;\n  }\n\n  attached() {\n    var self = this;\n\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","export class Layers {\n  constructor() {\n    this.properties = {\n      flood: [\n        {\n          id: \"FLDHVE\",\n          type: 'fill',\n          source: {\n            url: 'mapbox://asbarve.b0mn3fbb',\n            type: 'vector'\n          },\n          'source-layer': 'FLDHVE',\n          paint: {\n            \"fill-color\": \"#fccf23\",\n            \"fill-opacity\": 0.6\n          }\n        },\n        {\n          id: 'FLDHAO',\n          type: 'fill',\n          source: {\n            url: 'mapbox://asbarve.1eqmjn9o',\n            type: 'vector'\n          },\n          'source-layer': 'FLDHAO',\n          paint: {\n            \"fill-color\": \"#fc610b\",\n            \"fill-opacity\": 0.8\n          }\n        },\n        {\n          id: 'FLDHAE',\n          type: 'fill',\n          source: {\n            url: 'mapbox://asbarve.4cou1y2j',\n            type: 'vector'\n          },\n          'source-layer': 'FLDHAE',\n          paint: {\n            \"fill-color\": \"#c44d3f\",\n            \"fill-opacity\": 0.7\n          }\n        },\n        {\n          id: 'FLDHAH',\n          type: 'fill',\n          source: {\n            url: 'mapbox://asbarve.758t0cbw',\n            type: 'vector'\n          },\n          'source-layer': 'FLDHAH',\n          paint: {\n            \"fill-color\": \"#52d6dd\",\n            \"fill-opacity\": 0.5\n          }\n        },\n        {\n          id: 'FLDHX',\n          type: 'fill',\n          source: {\n            url: 'mapbox://asbarve.44qg0o2f',\n            type: 'vector'\n          },\n          'source-layer': 'FLDHX',\n          paint: {\n            \"fill-color\": \"#368bd8\",\n            \"fill-opacity\": 0.5\n          }\n        }\n      ],\n      stormsurge: [{\n        id: 'stormsurge',\n        type: 'fill',\n        source: {\n          url: 'mapbox://asbarve.41947bz4',\n          type: 'vector'\n        },\n        'source-layer': 'stormsurge',\n        paint: {\n          \"fill-color\": {\n            \"property\": \"CAT\",\n            \"type\": \"categorical\",\n            \"stops\": [\n              [\n                \"1\",\n                \"#f05124\"\n              ],\n              [\n                \"2\",\n                \"#c6502b\"\n              ],\n              [\n                \"3\",\n                \"#a44e30\"\n              ],\n              [\n                \"4\",\n                \"#844933\"\n              ],\n              [\n                \"5\",\n                \"#664335\"\n              ]\n            ]\n          },\n          \"fill-opacity\": {\n            \"property\": \"CAT\",\n            \"type\": \"categorical\",\n            \"stops\": [\n              [\n                \"1\",\n                0.7\n              ],\n              [\n                \"2\",\n                0.6\n              ],\n              [\n                \"3\",\n                0.5\n              ],\n              [\n                \"4\",\n                0.4\n              ],\n              [\n                \"5\",\n                0.3\n              ]\n            ]\n          }\n        }\n      }],\n      groundwater: [\n        {\n          id: 'groundwater',\n          type: 'fill',\n          source: {\n            url: 'mapbox://asbarve.5wvk9kun',\n            type: 'vector'\n          },\n          'source-layer': 'groundwater',\n          paint: {\n            \"fill-color\": {\n              property: \"DN\",\n              type: \"exponential\",\n              stops: [\n                [40, '#d7191c'],\n                [70, '#e24631'],\n                [100, '#ee7446'],\n                [120, '#faa25b'],\n                [140, '#fdc076'],\n                [160, '#fed993'],\n                [180, '#fef2b0'],\n\n                [196, '#f2f9c5'],\n                [208, '#d8edd2'],\n                [220, '#bee1df'],\n                [230, '#a1d1e5'],\n                [238, '#7ab4d5'],\n                [246, '#5397c5'],\n                [252, '#2c7bb6']\n              ]\n            },\n            \"fill-opacity\": 0.8\n          }\n        },\n        {\n          id: 'salt_water',\n          type: 'line',\n          source: {\n            url: 'mapbox://asbarve.87xhq483',\n            type: 'vector'\n          },\n          'source-layer': 'salt_water',\n          paint: {\n            'line-color': '#f05022',\n            'line-width': 2\n          }\n        }\n      ],\n      default: [\n        {\n          id: 'golfcourse_base',\n          type: 'line',\n          source: {\n            type: 'geojson',\n            data: {\n              type: 'FeatureCollection',\n              features: [\n                {\n                  type: 'Feature',\n                  properties: {\n                    name: 'Sunset golfcourse'\n                  },\n                  geometry: {\n                    type: 'LineString',\n                    coordinates: [\n                      [-80.16687564286083, 26.022109333950482],\n                      [-80.16233181725012, 26.022188276452326],\n                      [-80.16225579269295, 26.018577702075035],\n                      [-80.16679999185034, 26.018499925562182],\n                      [-80.16687564286083, 26.022109333950482]\n                    ]\n                  }\n                }\n              ]\n            }\n          },\n          paint: {\n            'line-color': '#f2ffe6',\n            'line-width': 2\n          }\n        },\n        {\n          id: 'golfcourse',\n          type: 'symbol',\n          source: {\n            type: 'geojson',\n            data: {\n              type: 'FeatureCollection',\n              features: [\n                {\n                  type: 'Feature',\n                  properties: {\n                    name: 'Sunset golfcourse'\n                  },\n                  geometry: {\n                    type: 'Point',\n                    coordinates: [\n                      -80.165,\n                      26.0197\n                    ]\n                  }\n                }\n              ]\n            }\n          },\n          layout: {\n            visibility: 'visible',\n            'icon-image': 'golf-15',\n            'icon-size': 1.5,\n            'icon-offset': [0, 0]\n          }\n        }\n      ]\n    };\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport mapboxgl from 'mapbox-gl';\nimport {Layers} from 'resources/layers';\n\n//start-aurelia-decorators\n@inject(Layers)\n//end-aurelia-decorators\nexport class RiskMap {\n  //Aurelia constructor hook\n  constructor(Layers) {\n    this.properties = Layers.properties;\n  }\n\n  //Aurelia activate hook\n  activate(param) {\n    this.risk = param.risk;\n  }\n\n  //Fetch & apply layer properties\n  addLayerToMap(layer) {\n    var self = this;\n    return self.map.addLayer(layer);\n  }\n\n  //Aurelia attached hook\n  attached() {\n    var self = this;\n\n    //Initiate map\n    mapboxgl.accessToken = 'pk.eyJ1IjoiYXNiYXJ2ZSIsImEiOiJjajVvOGdpcmwzejNiMzJvODF2dGFqYWcxIn0.rAJZcytC7dbajv0wzWo8Kw';\n    self.map = new mapboxgl.Map({\n      attributionControl: false,\n      container: 'mapContainer',\n      center: [-80.165, 26.0197],\n      zoom: 11,\n      style: 'mapbox://styles/mapbox/dark-v9',\n      hash: false\n    });\n\n    //Add navigation controls\n    self.map.addControl(new mapboxgl.NavigationControl(), 'bottom-left');\n\n    //Display layers according to query parameter\n    self.map.on('load', () => {\n      for (let group in self.properties) {\n        if (group === self.risk || group === 'default') {\n          for (let layer of self.properties[group]) {\n            self.addLayerToMap(layer);\n          }\n        }\n      }\n    });\n  }\n}\n","html, body {\n  width: 100%;\n  height: 100%;\n  margin: 0px;\n  padding: 0px;\n}\n","","@import \"styles/themeGuide.less\";\n\n#mapContainer {\n  width: 100%;\n  height: 100%;\n  margin: 0px;\n  padding: 0px;\n}\n\n.legend {\n  background-color: #fff;\n  border-radius: 3px;\n  bottom: 20px;\n  width: 120px;\n  box-shadow: 0 1px 2px rgba(0,0,0,0.10);\n  font-size: 12px;\n  font-family: 'Helvetica Neue', Arial, sans-serif;\n  padding: 10px;\n  position: absolute;\n  right: 20px;\n  z-index: 1;\n  line-height: 1.5;\n  & h4 {\n    padding: 0 0 2px 0;\n    margin: 0 0 10px 0;\n    border-bottom: solid 1px black;\n  }\n  & div span {\n    display: inline-block;\n    height: 10px;\n    margin-right: 5px;\n    width: 10px;\n  }\n  & #groundwaterLegend {\n    margin-top: 5px;\n    height: 10px;\n    width: 100%;\n    background: red; /* For browsers that do not support gradients */\n    /* For Safari 5.1 to 6.0 */\n    background: -webkit-linear-gradient(left,#D7191C,#e24631,#ee7446,#faa25b,#fdc076,#fed993,#fef2b0,#f2f9c5,#d8edd2,#bee1df,#a1d1e5,#7ab4d5,#5397c5,#2c7bb6);\n    /* For Opera 11.1 to 12.0 */\n    background: -o-linear-gradient(left,#D7191C,#e24631,#ee7446,#faa25b,#fdc076,#fed993,#fef2b0,#f2f9c5,#d8edd2,#bee1df,#a1d1e5,#7ab4d5,#5397c5,#2c7bb6);\n    /* For Fx 3.6 to 15 */\n    background: -moz-linear-gradient(left,#D7191C,#e24631,#ee7446,#faa25b,#fdc076,#fed993,#fef2b0,#f2f9c5,#d8edd2,#bee1df,#a1d1e5,#7ab4d5,#5397c5,#2c7bb6);\n    /* Standard syntax */\n    background: linear-gradient(to right, #D7191C,#e24631,#ee7446,#faa25b,#fdc076,#fed993,#fef2b0,#f2f9c5,#d8edd2,#bee1df,#a1d1e5,#7ab4d5,#5397c5,#2c7bb6);\n  }\n  & .legendText {\n    width: 40px;\n    text-align: center;\n    &:first-child {\n      text-align: left;\n    }\n    &:last-child {\n      text-align: right;\n    }\n  }\n  & #saltwaterLine {\n    border-bottom: solid red 3px;\n    width: 100%;\n    margin-top: 5px;\n  }\n}\n"],"sourceRoot":".."}